<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no">
    <meta name="author" content="grissom">
    <link rel="stylesheet" href="./frontend.css">
    <title>FrontEnd</title>
</head>
<body>
<header id="header">
    <div id="logo">
        zhou-grissom
    </div>
</header>
<section id="container">
    <h2>关于触摸</h2>
    <button id="touch1">touchtouchtouchtouchtouchtouchtouchtouch</button><span class="touch1" style="background-color: #ff9b57"></span>
    <script>
        var touch1 = document.getElementById('touch1');
        touch1.addEventListener('touchstart',touchLength);
        function touchLength(e){
            document.querySelector('.touch1').innerHTML = "触摸点个数为" + e.touches.length;
//            document.querySelector('.touch1').innerHTML = "触摸点位置 " + e.touches[0].pageX + '+ ' + e.touches[0].clientX;
            console.log(e);
        }
    </script>
    <div>来刮奖啦</div>
    <div id="guajiang">
        <canvas id="mask" width="240" height="243"></canvas>
    </div>
    <p>在此，我们可以运用Canvas中一种名为globalCompositeOperation的属性，通过将其设置为destination-out，使得在已经填充颜色的基础上再次进行绘制时，所绘制的区域变得透明，从而露出下方的奖项图片--谢谢刘欢</p>
    <style>
        #guajiang {
            width: 240px;
            height: 243px;
            background: url("./huojiang.jpg") no-repeat center;
        }
    </style>
    <script>
        var canvas = document.getElementById('mask');
        var content = canvas.getContext('2d');
        content.beginPath();
        content.fillStyle = '#d1d1d1';
        content.fillRect(0,0,240,243);
        content.closePath();
        content.globalCompositeOperation = 'destination-out';
        //为画布创建事件
        canvas.addEventListener('touchmove',function (e) {
            e.preventDefault();
            var touch = e.touches[0];
            content.beginPath();
            content.arc(touch.pageX - canvas.offsetLeft,touch.pageY - canvas.offsetTop,5,0,Math.PI * 2);
            content.closePath();
            content.fillStyle = '#bdc3c7';
            content.fill();
        })
    </script>
    <h2>真是日狗了，实在想不通，这里的代码为啥会出错！</h2>
    
    <img src="./guajiang.png" style="width: 100%">
    
    <p>ios:gesture,gesturestart,gesturechange</p>
</section>
<script src="./index.js"></script>
</body>
</html>
